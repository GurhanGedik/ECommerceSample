@using ECommerce.Entity
@using ECommerce.Repository
<!DOCTYPE html>

<html>
<head>

    <!-- Basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>@ViewBag.Title</title>
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">

    <!-- Web Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,300,400,500,600,700,900%7COpen+Sans:300,400,600,700,800" rel="stylesheet" type="text/css">

    <!-- Vendor CSS -->
    <link rel="stylesheet" href="~/Content/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="~/Content/vendor/animate/animate.min.css">
    <link rel="stylesheet" href="~/Content/vendor/linear-icons/css/linear-icons.min.css">
    <link rel="stylesheet" href="~/Content/vendor/owl.carousel/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="~/Content/vendor/owl.carousel/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="~/Content/vendor/magnific-popup/magnific-popup.min.css">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="~/Content/css/theme.css">
    <link rel="stylesheet" href="~/Content/css/theme-elements.css">

    <!-- Skin CSS -->
    <link rel="stylesheet" href="~/Content/css/skins/default.css">

    <!-- Theme Custom CSS -->
    <link rel="stylesheet" href="~/Content/css/custom.css">

    <!-- Head Libs -->
    <script src="~/Content/vendor/modernizr/modernizr.min.js"></script>
</head>
<body>

    <header id="header" class="header-effect-shrink" data-plugin-options="{'stickyEnabled': true, 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': true, 'stickyStartAt': 120, 'stickyChangeLogo': false}">
        <div class="header-body">
            <div class="header-container container">
                <div class="header-row">
                    <div class="header-column justify-content-start">
                        <div class="header-logo">
                            <a href="index.html">
                                @*<img alt="EZ" width="128" height="32" src="img/logo-shop.png">*@
                            </a>
                        </div>
                    </div>
                    <div class="header-column justify-content-end">
                        @*<div class="header-search-expanded">
                                <form method="GET">
                                    <div class="input-group bg-light border">
                                        <input type="text" class="form-control text-4" name="s" placeholder="I'm looking for..." aria-label="I'm looking for...">
                                        <span class="input-group-btn">
                                            <button class="btn" type="submit"><i class="lnr lnr-magnifier text-color-dark"></i></button>
                                        </span>
                                    </div>
                                </form>
                            </div>*@
                        <div class="header-nav justify-content-start">
                            @*<a href="#" class="header-search-button order-1 text-5 d-none d-sm-block mt-1 mr-xl-2">
            <i class="lnr lnr-magnifier"></i>
        </a>*@
                            <div class="header-nav-main header-nav-main-effect-1 header-nav-main-sub-effect-1">
                                <nav class="collapse">
                                    <ul class="nav flex-column flex-lg-row" id="mainNav">
                                        <li class="dropdown dropdown-mega">
                                            <a class="dropdown-item dropdown-toggle" href="@Url.Action("ListAllProduct", "Home")">
                                                Home
                                            </a>
                                        </li>
                                        <li class="dropdown active">
                                            <a class="dropdown-item dropdown-toggle active" href="#">
                                                @ViewBag.welcome
                                            </a>
                                            <ul class="dropdown-menu">
                                                @{
                                                    string userId = ViewBag.userId;
                                                    <li><a class="dropdown-item" href="~/Profile/Edit/@userId">Profile</a></li>
                                                }

                                                <li><a class="dropdown-item" href="#">Order History</a></li>
                                                <li><a class="dropdown-item" href="@Url.Action("LogOut","Login")">Exit</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </nav>
                            </div>

                            @if (String.IsNullOrEmpty(ViewBag.welcome))
                            {
                                <a href="@Url.Action("SingIn","Login")" class="btn btn-link text-color-default font-weight-bold order-3 d-none d-sm-block ml-auto mr-2 pt-1 text-1">Login</a>
                            }
                            else
                            {
                                <a href="#" class="btn btn-link text-color-default font-weight-bold order-3 d-none d-sm-block ml-auto mr-2 pt-1 text-1"></a>
                            }

                            @Html.Partial("~/Views/Shared/_CartPage.cshtml")

                            <button class="header-btn-collapse-nav order-4 ml-3" data-toggle="collapse" data-target=".header-nav-main nav">
                                <span class="hamburguer">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </span>
                                <span class="close">
                                    <span></span>
                                    <span></span>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <aside class="sidebar col-md-4 col-lg-3 order-2 order-md-1">
                <div class="accordion accordion-default accordion-toggle accordion-style-1 mb-5" role="tablist">

                    <div class="card">
                        <div class="card-header accordion-header" role="tab" id="popularPosts">
                            <h3 class="text-3 mb-0">
                                <a href="#" data-toggle="collapse" data-target="#togglePopularPosts" aria-expanded="false" aria-controls="togglePopularPosts">What’s new</a>
                            </h3>
                        </div>
                        <div id="togglePopularPosts" class="accordion-body collapse show" aria-labelledby="popularPosts">
                            <div class="card-body">
                                @{
                                    ProductRepository pr = new ProductRepository();
                                    foreach (Product item in pr.GetLatestObj(1).ProcessResult)
                                    {
                                        <article class="row align-items-center mb-3">
                                            <div class="col-4 pr-0">
                                                <a href="~/Home/Detail/@item.ProductId">
                                                    <img src="~/Upload/@item.Photo" class="img-fluid hover-effect-2" alt="" />
                                                </a>
                                            </div>
                                            <div class="col-8">
                                                <span class="text-color-primary">$@item.Price</span>
                                                <h4 class="text-2 mb-0">
                                                    <a href="~/Home/Detail/@item.ProductId" class="text-1">@item.ProductName</a>
                                                </h4>
                                            </div>
                                        </article>
                                    }
                                }

                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header accordion-header" role="tab" id="categories">
                            <h3 class="text-3 mb-0">
                                <a href="#" data-toggle="collapse" data-target="#toggleCategories" aria-expanded="false" aria-controls="toggleCategories">Categories</a>
                            </h3>
                        </div>
                        <div id="toggleCategories" class="accordion-body collapse show" aria-labelledby="categories">
                            <div class="card-body">
                                <ul class="list list-unstyled">
                                    @{
                                        CategoryRepository cr = new CategoryRepository();
                                        foreach (Category item in cr.List().ProcessResult)
                                        {
                                            <li class="mb-2">
                                                <a href="~/Home/List/@item.CategoryId" class="font-weight-semibold text-color-primary"><i class="fas fa-angle-right ml-1 mr-1 pr-2" id="photos" data-toggle="collapse" data-target="#submenuPhotos" aria-expanded="true" aria-controls="submenuPhotos" role="list" onclick="return false;"></i> @item.CategoryName</a>
                                            </li>
                                        }
                                    }

                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header accordion-header" role="tab" id="tags">
                            <h3 class="text-3 mb-0">
                                <a href="#" data-toggle="collapse" data-target="#toggleTags" aria-expanded="false" aria-controls="toggleTags">Brands</a>
                            </h3>
                        </div>
                        <div id="toggleTags" class="accordion-body collapse show" role="tabpanel" aria-labelledby="tags">
                            <div class="card-body">
                                <ul class="list list-unstyled">
                                    @{
                                        BrandRepository br = new BrandRepository();
                                        foreach (Brand item in br.List().ProcessResult)
                                        {
                                            <li class="mb-2">
                                                <a href="~/Home/ListByBrand/@item.BrandId" class="font-weight-semibold text-color-primary"><i class="fas fa-angle-right ml-1 mr-1 pr-2" id="photos" data-toggle="collapse" data-target="#submenuPhotos" aria-expanded="true" aria-controls="submenuPhotos" role="list" onclick="return false;"></i> @item.BrandName</a>
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
            </aside>
            <div class="col-md-8 col-lg-9 order-1 order-md-2 mb-5 mb-md-0">
                @RenderBody()
            </div>
        </div>
    </div>





    <footer id="footer" class="footer-hover-links-light mt-0">
        <div class="footer-copyright">
            <div class="container">
                <div class="row text-center text-md-left align-items-center">
                    <div class="col-md-7 col-lg-8">
                        <ul class="social-icons social-icons-transparent social-icons-icon-light social-icons-lg">
                            <li class="social-icons-facebook"><a href="http://www.facebook.com/" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a></li>
                            <li class="social-icons-twitter"><a href="http://www.twitter.com/" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a></li>
                            <li class="social-icons-instagram"><a href="http://www.instagram.com/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></li>
                        </ul>
                    </div>
                    <div class="col-md-5 col-lg-4">
                        <p class="text-md-right pb-0 mb-0">Copyrights © 2019.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>






    <!-- Vendor -->
    <script src="~/Content/vendor/jquery/jquery.min.js"></script>
    <script src="~/Content/vendor/jquery.appear/jquery.appear.min.js"></script>
    <script src="~/Content/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="~/Content/vendor/jquery-cookie/jquery-cookie.min.js"></script>
    <script src="~/Content/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/Content/vendor/common/common.min.js"></script>
    <script src="~/Content/vendor/jquery.validation/jquery.validation.min.js"></script>
    <script src="~/Content/vendor/jquery.easy-pie-chart/jquery.easy-pie-chart.min.js"></script>
    <script src="~/Content/vendor/jquery.gmap/jquery.gmap.min.js"></script>
    <script src="~/Content/vendor/jquery.lazyload/jquery.lazyload.min.js"></script>
    <script src="~/Content/vendor/isotope/jquery.isotope.min.js"></script>
    <script src="~/Content/vendor/owl.carousel/owl.carousel.min.js"></script>
    <script src="~/Content/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
    <script src="~/Content/vendor/vide/vide.min.js"></script>
    <script src="~/Content/vendor/vivus/vivus.min.js"></script>

    <!-- Theme Base, Components and Settings -->
    <script src="~/Content/js/theme.js"></script>

    <!-- Current Page Vendor and Views -->
    <script src="~/Content/vendor/rs-plugin/js/jquery.themepunch.tools.min.js"></script>
    <script src="~/Content/vendor/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>

    <!-- Theme Custom -->
    <script src="~/Content/js/custom.js"></script>

    <!-- Theme Initialization Files -->
    <script src="~/Content/js/theme.init.js"></script>
    <script src="~/Content/js/examples/examples.gallery.js"></script>
</body>
</html>
